cargo test -p lox --test integration --no-default-features

running 243 tests
test run_file_test_tests_integration_assignment_infix_operator_lox ... ok
test run_file_test_tests_integration_assignment_grouping_lox ... ok
test run_file_test_tests_integration_assignment_local_lox ... ok
test run_file_test_tests_integration_assignment_prefix_operator_lox ... ok
test run_file_test_tests_integration_assignment_global_lox ... ok
test run_file_test_tests_integration_assignment_associativity_lox ... ok
test run_file_test_tests_integration_assignment_to_this_lox ... ok
test run_file_test_tests_integration_assignment_syntax_lox ... ok
test run_file_test_tests_integration_block_scope_lox ... ok
test run_file_test_tests_integration_block_empty_lox ... ok
test run_file_test_tests_integration_bool_equality_lox ... ok
test run_file_test_tests_integration_bool_not_lox ... ok
test run_file_test_tests_integration_assignment_undefined_lox ... ok
test run_file_test_tests_integration_call_bool_lox ... ok
test run_file_test_tests_integration_call_num_lox ... ok
test run_file_test_tests_integration_call_nil_lox ... ok
test run_file_test_tests_integration_call_string_lox ... ok
test run_file_test_tests_integration_call_object_lox ... ok
test run_file_test_tests_integration_class_inherit_self_lox ... ok
test run_file_test_tests_integration_class_empty_lox ... ok
test run_file_test_tests_integration_class_inherited_method_lox ... ok
test run_file_test_tests_integration_class_local_inherit_other_lox ... ok
test run_file_test_tests_integration_class_local_inherit_self_lox ... ok
test run_file_test_tests_integration_class_local_reference_self_lox ... ok
test run_file_test_tests_integration_class_reference_self_lox ... ok
test run_file_test_tests_integration_closure_assign_to_closure_lox ... ok
test run_file_test_tests_integration_closure_assign_to_shadowed_later_lox ... ok
test run_file_test_tests_integration_closure_close_over_function_parameter_lox ... ok
test run_file_test_tests_integration_closure_close_over_later_variable_lox ... ok
test run_file_test_tests_integration_closure_closed_closure_in_function_lox ... ok
test run_file_test_tests_integration_closure_close_over_method_parameter_lox ... ok
test run_file_test_tests_integration_closure_nested_closure_lox ... ok
test run_file_test_tests_integration_closure_open_closure_in_function_lox ... ok
test run_file_test_tests_integration_closure_reuse_closure_slot_lox ... ok
test run_file_test_tests_integration_closure_shadow_closure_with_local_lox ... ok
test run_file_test_tests_integration_closure_reference_closure_multiple_times_lox ... ok
test run_file_test_tests_integration_closure_unused_closure_lox ... ok
test run_file_test_tests_integration_comments_line_at_eof_lox ... ok
test run_file_test_tests_integration_closure_unused_later_closure_lox ... ok
test run_file_test_tests_integration_comments_unicode_lox ... ok
test run_file_test_tests_integration_comments_only_line_comment_and_line_lox ... ok
test run_file_test_tests_integration_comments_only_line_comment_lox ... ok
test run_file_test_tests_integration_constructor_arguments_lox ... ok
test run_file_test_tests_integration_constructor_call_init_early_return_lox ... ok
test run_file_test_tests_integration_constructor_call_init_explicitly_lox ... ok
test run_file_test_tests_integration_constructor_default_lox ... ok
test run_file_test_tests_integration_constructor_default_arguments_lox ... ok
test run_file_test_tests_integration_constructor_extra_arguments_lox ... ok
test run_file_test_tests_integration_constructor_early_return_lox ... ok
test run_file_test_tests_integration_constructor_init_not_method_lox ... ok
test run_file_test_tests_integration_constructor_missing_arguments_lox ... ok
test run_file_test_tests_integration_constructor_return_value_lox ... ok
test run_file_test_tests_integration_constructor_return_in_nested_function_lox ... ok
test run_file_test_tests_integration_field_call_nonfunction_field_lox ... ok
test run_file_test_tests_integration_field_call_function_field_lox ... ok
test run_file_test_tests_integration_field_get_and_set_method_lox ... ok
test run_file_test_tests_integration_field_get_on_bool_lox ... ok
test run_file_test_tests_integration_field_get_on_class_lox ... ok
test run_file_test_tests_integration_field_get_on_function_lox ... ok
test run_file_test_tests_integration_field_get_on_nil_lox ... ok
test run_file_test_tests_integration_field_get_on_num_lox ... ok
test run_file_test_tests_integration_field_get_on_string_lox ... ok
test run_file_test_tests_integration_field_method_binds_this_lox ... ok
test run_file_test_tests_integration_field_on_instance_lox ... ok
test run_file_test_tests_integration_field_many_lox ... ok
test run_file_test_tests_integration_field_set_evaluation_order_lox ... ok
test run_file_test_tests_integration_field_method_lox ... ok
test run_file_test_tests_integration_field_set_on_bool_lox ... ok
test run_file_test_tests_integration_field_set_on_class_lox ... ok
test run_file_test_tests_integration_field_set_on_function_lox ... ok
test run_file_test_tests_integration_field_set_on_nil_lox ... ok
test run_file_test_tests_integration_field_set_on_num_lox ... ok
test run_file_test_tests_integration_field_set_on_string_lox ... ok
test run_file_test_tests_integration_for_class_in_body_lox ... ok
test run_file_test_tests_integration_field_undefined_lox ... ok
test run_file_test_tests_integration_for_fun_in_body_lox ... ok
test run_file_test_tests_integration_for_closure_in_body_lox ... ok
test run_file_test_tests_integration_for_return_closure_lox ... ok
test run_file_test_tests_integration_for_return_inside_lox ... ok
test run_file_test_tests_integration_for_scope_lox ... ok
test run_file_test_tests_integration_for_statement_condition_lox ... ok
test run_file_test_tests_integration_for_statement_increment_lox ... ok
test run_file_test_tests_integration_for_statement_initializer_lox ... ok
test run_file_test_tests_integration_for_syntax_lox ... ok
test run_file_test_tests_integration_function_body_must_be_block_lox ... ok
test run_file_test_tests_integration_for_var_in_body_lox ... ok
test run_file_test_tests_integration_function_empty_body_lox ... ok
test run_file_test_tests_integration_function_extra_arguments_lox ... ok
test run_file_test_tests_integration_function_local_mutual_recursion_lox ... ok
test run_file_test_tests_integration_function_missing_comma_in_parameters_lox ... ok
test run_file_test_tests_integration_function_missing_arguments_lox ... ok
test run_file_test_tests_integration_function_local_recursion_lox ... ok
test run_file_test_tests_integration_function_nested_call_with_arguments_lox ... ok
test run_file_test_tests_integration_function_mutual_recursion_lox ... ok
test run_file_test_tests_integration_function_parameters_lox ... ok
test run_file_test_tests_integration_function_print_lox ... ok
test run_file_test_tests_integration_function_recursion_lox ... ok
test run_file_test_tests_integration_if_class_in_else_lox ... ok
test run_file_test_tests_integration_function_too_many_parameters_lox ... ok
test run_file_test_tests_integration_function_too_many_arguments_lox ... ok
test run_file_test_tests_integration_if_class_in_then_lox ... ok
test run_file_test_tests_integration_if_dangling_else_lox ... ok
test run_file_test_tests_integration_if_else_lox ... ok
test run_file_test_tests_integration_if_fun_in_then_lox ... ok
test run_file_test_tests_integration_if_fun_in_else_lox ... ok
test run_file_test_tests_integration_if_if_lox ... ok
test run_file_test_tests_integration_if_truth_lox ... ok
test run_file_test_tests_integration_inheritance_constructor_lox ... ok
test run_file_test_tests_integration_if_var_in_else_lox ... ok
test run_file_test_tests_integration_if_var_in_then_lox ... ok
test run_file_test_tests_integration_inheritance_inherit_from_function_lox ... ok
test run_file_test_tests_integration_inheritance_inherit_from_nil_lox ... ok
test run_file_test_tests_integration_inheritance_inherit_from_number_lox ... ok
test run_file_test_tests_integration_inheritance_parenthesized_superclass_lox ... ok
test run_file_test_tests_integration_inheritance_inherit_methods_lox ... ok
test run_file_test_tests_integration_inheritance_set_fields_from_base_class_lox ... ok
test run_file_test_tests_integration_limit_no_reuse_constants_lox ... ok
test run_file_test_tests_integration_limit_too_many_constants_lox ... ok
test run_file_test_tests_integration_limit_too_many_upvalues_lox ... ok
test run_file_test_tests_integration_limit_too_many_locals_lox ... ok
test run_file_test_tests_integration_logical_operator_and_truth_lox ... FAILED
test run_file_test_tests_integration_logical_operator_or_truth_lox ... FAILED
test run_file_test_tests_integration_limit_stack_overflow_lox ... ok
test run_file_test_tests_integration_logical_operator_or_lox ... FAILED
test run_file_test_tests_integration_method_arity_lox ... ok
test run_file_test_tests_integration_logical_operator_and_lox ... FAILED
test run_file_test_tests_integration_method_empty_block_lox ... ok
test run_file_test_tests_integration_method_missing_arguments_lox ... ok
test run_file_test_tests_integration_method_extra_arguments_lox ... ok
test run_file_test_tests_integration_method_not_found_lox ... ok
test run_file_test_tests_integration_method_print_bound_method_lox ... ok
test run_file_test_tests_integration_method_refer_to_name_lox ... ok
test run_file_test_tests_integration_method_too_many_arguments_lox ... ok
test run_file_test_tests_integration_method_too_many_parameters_lox ... ok
test run_file_test_tests_integration_nil_literal_lox ... ok
test run_file_test_tests_integration_number_decimal_point_at_eof_lox ... ok
test run_file_test_tests_integration_number_nan_equality_lox ... ok
test run_file_test_tests_integration_number_leading_dot_lox ... ok
test run_file_test_tests_integration_number_trailing_dot_lox ... ok
test run_file_test_tests_integration_number_literals_lox ... ok
test run_file_test_tests_integration_operator_add_bool_nil_lox ... ok
test run_file_test_tests_integration_operator_add_bool_num_lox ... ok
test run_file_test_tests_integration_operator_add_bool_string_lox ... ok
test run_file_test_tests_integration_limit_loop_too_large_lox ... ok
test run_file_test_tests_integration_operator_add_lox ... ok
test run_file_test_tests_integration_operator_add_nil_nil_lox ... ok
test run_file_test_tests_integration_operator_add_num_nil_lox ... ok
test run_file_test_tests_integration_operator_divide_lox ... ok
test run_file_test_tests_integration_operator_add_string_nil_lox ... ok
test run_file_test_tests_integration_operator_comparison_lox ... ok
test run_file_test_tests_integration_operator_divide_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_divide_num_nonnum_lox ... ok
test run_file_test_tests_integration_operator_equals_class_lox ... FAILED
test run_file_test_tests_integration_operator_equals_lox ... ok
test run_file_test_tests_integration_operator_equals_method_lox ... FAILED
test run_file_test_tests_integration_operator_greater_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_greater_or_equal_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_greater_num_nonnum_lox ... ok
test run_file_test_tests_integration_operator_greater_or_equal_num_nonnum_lox ... ok
test run_file_test_tests_integration_operator_less_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_less_num_nonnum_lox ... ok
test run_file_test_tests_integration_operator_less_or_equal_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_multiply_lox ... ok
test run_file_test_tests_integration_operator_less_or_equal_num_nonnum_lox ... ok
test run_file_test_tests_integration_operator_multiply_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_multiply_num_nonnum_lox ... ok
test run_file_test_tests_integration_operator_negate_lox ... ok
test run_file_test_tests_integration_operator_not_class_lox ... ok
test run_file_test_tests_integration_operator_not_lox ... ok
test run_file_test_tests_integration_operator_negate_nonnum_lox ... ok
test run_file_test_tests_integration_operator_not_equals_lox ... ok
test run_file_test_tests_integration_operator_subtract_lox ... ok
test run_file_test_tests_integration_operator_subtract_nonnum_num_lox ... ok
test run_file_test_tests_integration_operator_subtract_num_nonnum_lox ... ok
test run_file_test_tests_integration_regression_394_lox ... ok
test run_file_test_tests_integration_print_missing_argument_lox ... ok
test run_file_test_tests_integration_return_after_else_lox ... ok
test run_file_test_tests_integration_return_after_if_lox ... ok
test run_file_test_tests_integration_regression_40_lox ... ok
test run_file_test_tests_integration_return_after_while_lox ... ok
test run_file_test_tests_integration_return_in_function_lox ... ok
test run_file_test_tests_integration_return_in_method_lox ... ok
test run_file_test_tests_integration_string_unterminated_lox ... ok
test run_file_test_tests_integration_return_return_nil_if_no_value_lox ... ok
test run_file_test_tests_integration_return_at_top_level_lox ... ok
test run_file_test_tests_integration_string_literals_lox ... ok
test run_file_test_tests_integration_string_error_after_multiline_lox ... ok
test run_file_test_tests_integration_string_multiline_lox ... ok
test run_file_test_tests_integration_super_bound_method_lox ... ok
test run_file_test_tests_integration_super_call_other_method_lox ... ok
test run_file_test_tests_integration_super_call_same_method_lox ... ok
test run_file_test_tests_integration_super_constructor_lox ... ok
test run_file_test_tests_integration_super_closure_lox ... ok
test run_file_test_tests_integration_super_indirectly_inherited_lox ... ok
test run_file_test_tests_integration_super_extra_arguments_lox ... ok
test run_file_test_tests_integration_super_missing_arguments_lox ... ok
test run_file_test_tests_integration_super_no_superclass_bind_lox ... ok
test run_file_test_tests_integration_super_reassign_superclass_lox ... ok
test run_file_test_tests_integration_super_no_superclass_call_lox ... ok
test run_file_test_tests_integration_super_no_superclass_method_lox ... ok
test run_file_test_tests_integration_super_parenthesized_lox ... ok
test run_file_test_tests_integration_super_super_at_top_level_lox ... ok
test run_file_test_tests_integration_super_super_in_closure_in_inherited_method_lox ... ok
test run_file_test_tests_integration_super_super_in_inherited_method_lox ... ok
test run_file_test_tests_integration_super_super_in_top_level_function_lox ... ok
test run_file_test_tests_integration_super_super_without_dot_lox ... ok
test run_file_test_tests_integration_super_super_without_name_lox ... ok
test run_file_test_tests_integration_this_closure_lox ... ok
test run_file_test_tests_integration_super_this_in_superclass_method_lox ... ok
test run_file_test_tests_integration_this_nested_class_lox ... ok
test run_file_test_tests_integration_this_nested_closure_lox ... ok
test run_file_test_tests_integration_this_this_at_top_level_lox ... ok
test run_file_test_tests_integration_this_this_in_method_lox ... ok
test run_file_test_tests_integration_this_this_in_top_level_function_lox ... ok
test run_file_test_tests_integration_variable_collide_with_parameter_lox ... ok
test run_file_test_tests_integration_variable_duplicate_parameter_lox ... ok
test run_file_test_tests_integration_variable_duplicate_local_lox ... ok
test run_file_test_tests_integration_variable_early_bound_lox ... ok
test run_file_test_tests_integration_variable_in_nested_block_lox ... ok
test run_file_test_tests_integration_variable_in_middle_of_block_lox ... ok
test run_file_test_tests_integration_variable_local_from_method_lox ... ok
test run_file_test_tests_integration_variable_redeclare_global_lox ... ok
test run_file_test_tests_integration_variable_redefine_global_lox ... ok
test run_file_test_tests_integration_variable_shadow_and_local_lox ... ok
test run_file_test_tests_integration_variable_scope_reuse_in_different_blocks_lox ... ok
test run_file_test_tests_integration_variable_shadow_global_lox ... ok
test run_file_test_tests_integration_variable_uninitialized_lox ... ok
test run_file_test_tests_integration_variable_shadow_local_lox ... ok
test run_file_test_tests_integration_variable_undefined_global_lox ... ok
test run_file_test_tests_integration_variable_undefined_local_lox ... ok
test run_file_test_tests_integration_variable_unreached_undefined_lox ... ok
test run_file_test_tests_integration_variable_use_false_as_var_lox ... ok
test run_file_test_tests_integration_variable_use_global_in_initializer_lox ... ok
test run_file_test_tests_integration_variable_use_nil_as_var_lox ... ok
test run_file_test_tests_integration_variable_use_local_in_initializer_lox ... ok
test run_file_test_tests_integration_variable_use_this_as_var_lox ... ok
test run_file_test_tests_integration_while_class_in_body_lox ... ok
test run_file_test_tests_integration_while_closure_in_body_lox ... ok
test run_file_test_tests_integration_while_return_closure_lox ... ok
test run_file_test_tests_integration_while_fun_in_body_lox ... ok
test run_file_test_tests_integration_while_return_inside_lox ... ok
test run_file_test_tests_integration_while_syntax_lox ... ok
test run_file_test_tests_integration_while_var_in_body_lox ... ok

failures:

---- run_file_test_tests_integration_logical_operator_and_truth_lox stdout ----
/home/ultraman/workspace/lox/tests/integration/logical_operator/and_truth.lox

thread 'run_file_test_tests_integration_logical_operator_and_truth_lox' panicked at tests/integration.rs:104:25:
Program exited with failure, expected success
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- run_file_test_tests_integration_logical_operator_or_truth_lox stdout ----
/home/ultraman/workspace/lox/tests/integration/logical_operator/or_truth.lox

thread 'run_file_test_tests_integration_logical_operator_or_truth_lox' panicked at tests/integration.rs:104:25:
Program exited with failure, expected success

---- run_file_test_tests_integration_logical_operator_or_lox stdout ----
/home/ultraman/workspace/lox/tests/integration/logical_operator/or.lox

thread 'run_file_test_tests_integration_logical_operator_or_lox' panicked at tests/integration.rs:104:25:
Program exited with failure, expected success

---- run_file_test_tests_integration_logical_operator_and_lox stdout ----
/home/ultraman/workspace/lox/tests/integration/logical_operator/and.lox

thread 'run_file_test_tests_integration_logical_operator_and_lox' panicked at tests/integration.rs:104:25:
Program exited with failure, expected success

---- run_file_test_tests_integration_operator_equals_class_lox stdout ----
/home/ultraman/workspace/lox/tests/integration/operator/equals_class.lox

thread 'run_file_test_tests_integration_operator_equals_class_lox' panicked at tests/integration.rs:139:5:
assertion `left == right` failed: Output should match
  left: ["true", "false", "false", "true", "false", "false", "false", "false"]
 right: ["false", "false", "false", "false", "false", "false", "false", "false"]

---- run_file_test_tests_integration_operator_equals_method_lox stdout ----
/home/ultraman/workspace/lox/tests/integration/operator/equals_method.lox

thread 'run_file_test_tests_integration_operator_equals_method_lox' panicked at tests/integration.rs:139:5:
assertion `left == right` failed: Output should match
  left: ["true", "false"]
 right: ["false", "false"]


failures:
    run_file_test_tests_integration_logical_operator_and_lox
    run_file_test_tests_integration_logical_operator_and_truth_lox
    run_file_test_tests_integration_logical_operator_or_lox
    run_file_test_tests_integration_logical_operator_or_truth_lox
    run_file_test_tests_integration_operator_equals_class_lox
    run_file_test_tests_integration_operator_equals_method_lox

test result: FAILED. 237 passed; 6 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.49s

